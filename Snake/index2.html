<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>index2</title>

    <style>
        .square {
            background: red;
            width: 20px;
            height: 20px;
            margin: 5px auto;
            left: 20px;
            position: absolute;
        }

        #ramme{
            border: solid;
            width: 500px;
            height: 500px;
            position: absolute;
        }

    </style>

    <div id="ramme"></div>

</head>
<body>

<script>
    var timer = setInterval(lagFirkant, 500);
    var i = 0;
    var y = 0;
    let squares = [];
    let topPos = 7;
    let leftPos = 10;



    function lagFirkant(){
        var square = document.createElement('div');
        square.className = 'square';
        square.id = "square" + i;
        document.body.appendChild(square);
        squares.push(square);


        if(y === 3) {
            leftPos += 20;
            console.log(squares[i]);
            //console.log(squares);
        }
        else if(y === 1){
            leftPos += -20;
        }
        else if(y === 2){
            topPos += -20;
        }
        else if(y === 4){
            topPos += 20;
        }

        square.style.left = leftPos + "px";
        square.style.top = topPos + "px";
        console.log(topPos);
        console.log(leftPos);
        i++;



        if(i > 4){
            squares[i-3].parentElement.removeChild(squares[i-5]);
        }
    }


    document.onkeydown = function(e) {
        switch (e.keyCode) {
            case 37:
                console.log('left');
                if(y === 3){
                    break;
                }
                y = 1;
                break;
            case 38:
                console.log('up');
                if(y === 4){
                    break;
                }
                y = 2;
                break;
            case 39:
                console.log('right');
                if(y === 1){
                    break;
                }
                y = 3;
                break;
            case 40:
                console.log('down');
                if(y === 2){
                    break;
                }
                y = 4;
                break;
        }
    };

</script>


</body>
</html>